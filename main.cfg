/**
 *  @fileOverview Grace
 */

/* need to use the CSL module to generate the CSL code */
var CSL = xdc.useModule('ti.mcu.msp430.csl.CSL');
var EUSCI_A1 = xdc.useModule('ti.mcu.msp430.csl2.communication.EUSCI_A1');
var EUSCI_A0 = xdc.useModule('ti.mcu.msp430.csl2.communication.EUSCI_A0');
var EUSCI_B0 = xdc.useModule('ti.mcu.msp430.csl2.communication.EUSCI_B0');
var WDT_A = xdc.useModule('ti.mcu.msp430.csl2.watchdog.WDT_A');
var ADC12_B = xdc.useModule('ti.mcu.msp430.csl2.adc.ADC12_B');
CSL.configApiVersion = "1.30.00";  /* 1.30 added the PinMux module */

/* these modules should be part of every project */
var CS = xdc.useModule('ti.mcu.msp430.csl2.clock.CS_A');
var System = xdc.useModule('ti.mcu.msp430.csl2.system.System');
var GPIO = xdc.useModule('ti.mcu.msp430.csl2.gpio.GPIO');
var PinMux = xdc.module('ti.mcu.msp430.csl2.pinmux.PinMux');
var InterruptVectors = xdc.useModule('ti.mcu.msp430.csl.interrupt_vectors.InterruptVectors');

/* set stack and heap sizes as appropriate for MSP430 */
Program.sysStack = 0;
Program.stack = 64;
Program.heap = 0;
Program.argSize = 0;

/* Enable global interrupt */
System.srRegs.SR.GIE = System.srDefs.GIE;
CS.clockMode = xdc.module("ti.mcu.msp430.csl2.clock.IClock").ClockConfigMode;
CS.regs.XT1CLKHz = 32768.0;
PinMux.assignedPins = "P1.0 ADC,P1.1 ADC,P1.3 EUSCI_B0_SPI,P1.4 GPIO,P1.5 EUSCI_A0_SPI,P1.6 EUSCI_B0_SPI,P1.7 EUSCI_B0_SPI,P2.0 EUSCI_A0_SPI,P2.1 EUSCI_A0_SPI,P2.2 EUSCI_B0_SPI,P2.4 EUSCI_A1_SPI,P2.5 EUSCI_A1_SPI,P2.6 EUSCI_A1_SPI,P2.7 GPIO,P3.0 GPIO,P3.1 GPIO,P3.2 GPIO,P3.4 GPIO,P3.6 GPIO,P3.7 GPIO,PJ.0 GPIO,PJ.1 GPIO,PJ.2 GPIO,PJ.3 GPIO,PJ.4 LFXIN,PJ.5 LFXOUT";
PinMux.regs.pjsel0 = 48;
CS.csAclkSource = CS.CSA_LFXTCLK_SELECT;
CS.csMclkSrcDivider = CS.CSA_CLOCK_DIVIDER_8;
EUSCI_A1.eusciMode = EUSCI_A1.eusciBaseDefs.SPIMode;
CS.csSmclkSrcDivider = CS.CSA_CLOCK_DIVIDER_2;
EUSCI_A1.eusciSPI.eusciSPIBitRate = EUSCI_A1.eusciSPIDefs.SPIBitRate_7;
EUSCI_A1.eusciSPI.eusciSPIPin[0] = 1;
PinMux.regs.p2sel1 = 119;
EUSCI_A1.eusciSPI.eusciSPIPin[2] = 1;
EUSCI_A1.eusciSPI.eusciSPIMode = EUSCI_A1.eusciSPIDefs.MasterMode_3Wire;
EUSCI_A1.eusciSPI.eusciSPIPin[3] = 0;
EUSCI_A1.eusciSPI.eusciSPISBSel = EUSCI_A1.eusciSPIDefs.eSPI_MSB_FIRST;
EUSCI_A1.eusciSPI.eusciSPIClockPhase = EUSCI_A1.eusciSPIDefs.eSPI_PHASE_DATA_CAPTURED_ONFIRST_CHANGED_ON_NEXT;
CSL.device.vcc = 3.3;
PinMux.regs.p2dir = 0;
PinMux.regs.p2out = 128;
EUSCI_A1.eusciSPI.eusciSPISTEMode = EUSCI_A1.eusciSPIDefs.SPISTEMode_1;
PinMux.regs.p1sel1 = 235;
PinMux.regs.p1dir = 16;
PinMux.regs.p1sel0 = 3;
CS.csAdvSettingsEnabled = false;
CS.csXt1Bypass = false;
CS.csXt1Drive = CS.LFXTDRIVE_2;
EUSCI_A1.eusciSPI.eusciSPICustomRate = 1000000;
PinMux.regs.p3ren = 81;
PinMux.regs.p3out = 81;
EUSCI_A0.eusciMode = EUSCI_A0.eusciBaseDefs.SPIMode;
EUSCI_A0.eusciSPI.eusciSPIBitRate = EUSCI_A0.eusciSPIDefs.SPIBitRate_Custom;
EUSCI_A0.eusciSPI.eusciSPIPin[0] = 1;
EUSCI_A0.eusciSPI.eusciSPIPin[1] = 1;
EUSCI_A0.eusciSPI.eusciSPIPin[2] = 1;
EUSCI_A0.eusciSPI.eusciSPISBSel = EUSCI_A0.eusciSPIDefs.eSPI_MSB_FIRST;
EUSCI_A0.eusciSPI.eusciSPIClockPhase = EUSCI_A0.eusciSPIDefs.eSPI_PHASE_DATA_CAPTURED_ONFIRST_CHANGED_ON_NEXT;
PinMux.regs.p1out = 0;
PinMux.regs.p3dir = 196;
PinMux.regs.p2ren = 130;
EUSCI_B0.eusciMode = EUSCI_B0.eusciBaseDefs.SPIMode;
EUSCI_B0.eusciSPI.eusciSPIPin[0] = 1;
EUSCI_B0.eusciSPI.eusciSPIPin[1] = 1;
EUSCI_B0.eusciSPI.eusciSPIPin[2] = 1;
EUSCI_B0.eusciSPI.eusciSPIBitRate = EUSCI_B0.eusciSPIDefs.SPIBitRate_6;
EUSCI_B0.eusciSPI.eusciSPISBSel = EUSCI_B0.eusciSPIDefs.eSPI_MSB_FIRST;
EUSCI_B0.eusciSPI.eusciSPIClockPhase = EUSCI_B0.eusciSPIDefs.eSPI_PHASE_DATA_CAPTURED_ONFIRST_CHANGED_ON_NEXT;
EUSCI_B0.regs.interruptSource[1].interruptEnable = false;
EUSCI_B0.regs.interruptSource[1].interruptHandler = false;
EUSCI_B0.regs.interruptSource[0].interruptHandler = false;
EUSCI_B0.regs.interruptSource[2].interruptHandler = false;
EUSCI_B0.regs.interruptSource[3].interruptHandler = false;
EUSCI_B0.regs.interruptSource[4].interruptHandler = false;
EUSCI_B0.regs.interruptSource[5].interruptHandler = false;
EUSCI_B0.regs.interruptSource[6].interruptHandler = false;
EUSCI_B0.regs.interruptSource[7].interruptHandler = false;
EUSCI_B0.regs.interruptSource[8].interruptHandler = false;
EUSCI_B0.regs.interruptSource[9].interruptHandler = false;
EUSCI_B0.regs.interruptSource[10].interruptHandler = false;
EUSCI_B0.regs.interruptSource[11].interruptHandler = false;
EUSCI_B0.regs.interruptSource[12].interruptHandler = false;
EUSCI_B0.regs.interruptSource[0].interruptEnable = false;
EUSCI_B0.eusciSPI.eusciSPIMode = EUSCI_B0.eusciSPIDefs.MasterMode_4Wire;
PinMux.regs.p3ie = 2;
PinMux.regs.p3ies = 2;
CS.csDcoRangeSel = CS.CSA_DCORSEL_1;
CS.csDcoFreqSel = CS.CSA_DCOFSEL_6;
EUSCI_A1.eusciSPI.eusciSPIPin[1] = 1;
PinMux.regs.p4dir = 0;
PinMux.regs.pjdir = 15;
EUSCI_B0.eusciSPI.eusciSPIPin[3] = 1;
EUSCI_B0.eusciSPI.eusciSPISTEMode = EUSCI_B0.eusciSPIDefs.SPISTEMode_1;
EUSCI_A0.eusciSPI.eusciSPICustomRate = 4000000;
PinMux.regs.pjout = 15;
ADC12_B.adc12bMode = ADC12_B.AutoScanChannMode;
ADC12_B.adc12bChannelType = ADC12_B.ADC12B_SEQUENCE_CHANNEL;
ADC12_B.adc12bConversionType = ADC12_B.ADC12B_REPEATED_CONVERSION;
ADC12_B.adc12bEnableAutoSuccConv = true;
ADC12_B.adc12bEnable = true;
ADC12_B.adc12bCycleHoldTime0 = ADC12_B.ADC12B_CYCLEHOLD_8_CYCLES;
ADC12_B.adc12bCycleHoldTime1 = ADC12_B.ADC12B_CYCLEHOLD_8_CYCLES;
ADC12_B.adc12bMemCtrlData[0].refVol = ADC12_B.ADC12B_VREFPOS_AVCC_VREFNEG_VSS;
ADC12_B.adc12bMemCtrlData[0].indexChannel = 0;
ADC12_B.adc12bMemCtrlData[1].refVol = ADC12_B.ADC12B_VREFPOS_AVCC_VREFNEG_VSS;
ADC12_B.adc12bMemCtrlData[1].indexChannel = 1;
ADC12_B.adc12bMemCtrl = ADC12_B.ADC12B_MEMORY_0;
ADC12_B.adc12bMemCtrlData[0].diffInput = false;
ADC12_B.adc12bExternalGPIOPin[0] = true;
ADC12_B.adc12bMemCtrlData[0].endOfSeq = false;
ADC12_B.adc12bExternalGPIOPin[1] = true;
ADC12_B.adc12bMemCtrlData[1].endOfSeq = true;
ADC12_B.adc12bMemStartAddr = ADC12_B.START_AT_ADC12MEM0;
ADC12_B.adc12bClockSource = ADC12_B.ADC12B_CLOCKSOURCE_ADC12OSC;
